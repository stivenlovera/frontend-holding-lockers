<div class="grid border">
    <div
        class="movement-grid grid xs:grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-4 xl:grid-cols-4 z-10 sticky top-0 gap-2 py-4 px-6 md:px-8 shadow font-semibold text-secondary bg-gray-50 dark:dark:bg-neutral-900 dark:bg-opacity-5"
        matSort
        matSortDisableClear
    >
        <div
            class="truncate xs:truncate sm:truncate md:block lg:block xl:block"
            [mat-sort-header]="'department_id'"
            (click)="handleSorts()"
        >
            Edificio
        </div>
        <div
            class="truncate xs:truncate sm:truncate md:block lg:block xl:block"
            [mat-sort-header]="'department_id'"
            (click)="handleSorts()"
        >
            Departamento
        </div>
        <div
            class="hidden xs:hidden sm:block md:block lg:block xl:block"
            [mat-sort-header]="'state'"
            (click)="handleSorts()"
        >
            Estado
        </div>
        <div class="hidden xs:hidden sm:block md:block lg:block xl:block">
            Usuarios
        </div>
    </div>
    <div class="flex flex-auto flex-col overflow-y-auto">
        @for (department of dataTableDepartament().departments; track $index) {
        <div
            class="movement-grid grid xs:grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-4 xl:grid-cols-4 items-center gap-2 py-3 px-6 md:px-8 border-b"
        >
            <div
                class="truncate xs:truncate sm:block md:block lg:block xl:block"
            >
                {{ department.name_builder }}
            </div>
            <div
                class="truncate xs:truncate sm:block md:block lg:block xl:block"
            >
                {{ department.name }}
            </div>
            <div class="hidden xs:truncate sm:block md:block lg:block xl:block">
                <mat-chip class="" cdkDrag>{{
                    department.state === 0 ? "Desactivado" : "Activo"
                }}</mat-chip>
            </div>
            <div class="hidden xs:truncate sm:block md:block lg:block xl:block">
                <a
                    class=""
                    mat-flat-button
                    [color]="'primary'"
                    matTooltip="Eliminar"
                    [routerLink]="
                        '/department/' +
                        lockerId() +
                        '/users/' +
                        department.department_id
                    "
                >
                    {{
                        department.users.length > 0
                            ? department.users.length + " usuarios"
                            : "No hay usuarios"
                    }}
                </a>
            </div>
           
        </div>
        }
        <mat-paginator
            class="bg-gray-50 border-b dark:bg-transparent absolute border-t bottom-0 inset-x-0 z-10"
            [length]="dataTableDepartament().paginate.length"
            [pageIndex]="dataTableDepartament().paginate.pageIndex"
            [pageSize]="dataTableDepartament().paginate.pageSize"
            [pageSizeOptions]="initialPagination.PageSizeOption"
            (page)="handlePageEvent($event)"
        ></mat-paginator>
    </div>
</div>
